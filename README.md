# DPC_tools
APP隐私合规性检测工具

## 运行方法

解压static中的static.7z压缩包中的文件到static目录

运行main.py文件即可

## 隐私类别

| 类别 | 描述                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| PC1  | 描述本隐私政策适用于哪些应用程序、网站等     |
| PC2  | 描述个人信息使用者的身份、联系方式和其他信息 |
| PC3  | 描述如何处理儿童数据                         |
| PC4  | 描述个人信息主体拥有哪些权利                 |
| PC5  | 描述与数据收集相关的事项                     |
| PC6  | 描述涉及第三方的数据处理                     |
| PC7  | 描述数据跨境传输相关事宜                     |

## 合规规则

| PC      | 合规规则                                             | 例子                                                         |
| ------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| **PC1** | **CR1** 隐私政策更新/生效时通知                      | *2021 年 9 月 12 日生效。上次修订日期：2021 年 8 月 12 日**2021 年 9 月 12 日生效。上次修订日期：2021 年 8 月 12 日* |
|         | **CR2** 告知隐私政策适用于哪些产品/服务              | *本隐私政策适用于我们的网站、应用程序和小程序*               |
| **PC2** | **CR3** 告知个人信息使用者的身份                     | *如果您有任何疑问，可以联系...公司*                          |
|         | **CR4** 告知如何联系个人信息使用者                   | *您可以通过我们的电子邮件联系我们：...*                      |
| **PC3** | **CR5** 收集14岁以下未成年人个人信息需征得监护人同意 | *如果您是14岁以下儿童，请在征得监护人同意后在监护人指导下使用我们的服务* |
| **PC4** | **CR6** 在收集 PI 之前获得对隐私政策的同意           | *在开始使用之前，请仔细阅读我们的隐私政策并同意它*           |
|         | **CR7** 提供隐私政策重大变更通知                     | *更新时我们会通过电子邮件通知您并重新征得您的同意*           |
|         | **CR8** 告知如何撤回同意                             | *您可以通过以下方式删除系统权限或更改应用程序设置来撤回您的同意：...* |
|         | **CR9**（有条件）告知如何禁用个性化显示              | *您可以拒绝个性化显示并通过以下步骤在应用程序设置中禁用它们：...* |
|         | **CR10** 告知PI主体的其他权利，如删除、注销等。      | *您可以通过以下方式注销您的账户：...*                        |
| **PC5** | **CR11** 告知收集目的                                | *这些信息用于创建您的帐户*                                   |
|         | **CR12**（可选）告知应用提供的个性化展示服务         | *我们通过收集您的 PI 提供个性化广告推荐*                     |
|         | **CR13** 告知应用程序收集哪些 PI                     | *我们将收集您的电子邮件地址*                                 |
|         | **CR14** 告知PI的保留期限                            | *我们仅在提供服务所需的时间内保留您的 PI*                    |
|         | **CR15** 告知PI保护措施                              | *我们采取一些措施来帮助保护您的信息，包括但不限于：...*      |
|         | **CR16**（有条件）提供敏感PI收集的特别提醒           | *本政策中，我们收集的您的敏感信息（如银行卡号）将以粗体显示，请谨慎提供* |
|         | **CR17** 发生PI安全事件时及时通知                    | *当发生这种情况时，我们将按照规定要求及时通知您*             |
| **PC6** | **CR18**（可选）通知第三方共享PI                     | *当您使用...服务时，我们可能会分享您的信息*                  |
|         | **CR19**（有条件）共享 PI 时获得同意                 | *除非获得您的同意，否则我们不会分享您的 PI*                  |
|         | **CR20**（有条件）告知第三方信息                     | *我们与...共享这些数据，下面是他们的隐私政策的链接*          |
|         | **CR21**（有条件）告知分享目的                       | *共享您的个人数据的目的是为您提供购买服务*                   |
|         | **CR22**（有条件）告知应用程序共享哪些 PI            | *我们可能会与第三方共享您的位置信息*                         |
| **PC7** | **CR23**（可选）通知跨境传输                         | *在某些情况下需要跨境传输您的 PI*                            |
|         | **CR24**（有条件）如需跨境传输需征得同意             | *跨境传输前我们会征得您的同意*                               |
|         | **CR25**（有条件）告知跨境传输目的                   | *当我们在全球范围内提供服务时，您的PI也会被传输到全球范围内，以实现海外住宿服务* |
|         | **CR26**（有条件）告知跨境传输的保护措施             | *我们将确保您的数据在境内外均受到同等保护*                   |

## 违规行为

| 违规类型                               | 参考法规 | 检查策略                                                     |
| -------------------------------------- | -------- | ------------------------------------------------------------ |
| V1:使用模棱两可的语言描述要收集的PI    |          | 在带有 CR13 标签的句子中，在 PI 之后立即检测到 ETC 单词      |
| v2:声明收集敏感PI但无特别提醒          |          | 声明收集敏感PI，但缺少CR16                                   |
| v3:提供个性化显示但不告知如何禁用      |          | 隐私政策符合CR12，但缺少CR9                                  |
| v4:没有提供有关 PI 共享的足够信息      |          | 隐私政策符合CR18，但不同时符合CR19-CR22                      |
| v5:未提供有关 PI 跨境传输的足够信息    |          | 隐私政策符合CR23，但并不同时符合CR24-CR26                    |
| v6:未提供完整的隐私政策                |          | 缺少一些必要的信息（包括CR1-CR8、CR10-CR11、CR13-CR15和CR17） |
| 应用收集的PI范围超出隐私政策中规定的PI |          |                                                              |

## 违规行为认定

| **违规行为**                                    | **认定方法**                                                 | **认定策略**                                                 |
| ----------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **v1:未提供完整的隐私政策**                     |                                                              | 缺少一些必要的信息（包括CR1-CR8、CR10-CR11、CR13-CR15和CR17） |
| **v2:未公开收集使用规则**                       |                                                              | 动态检测时，检测是否有隐私弹窗                               |
| **v3:未明示收集使用个人信息的目的、方式和范围** | 未逐一列出App(包括委托的第三方或嵌入的第三方代码、插件)收集使用个人信息的目的、方式、范围等 | 1.缺少CR11、CR13<br />2.存在CR18，但缺少CR21、CR22           |
|                                                 | 收集使用个人信息的目的、方式、范围发生变化时，未以适当方式通知用户，适当方式包括更新隐私政策等收集使用规则并提醒用户阅读等 | 缺少CR7                                                      |
|                                                 | 使用模棱两可的语言描述要收集的个人信息                       | 在带有 CR13 标签的句子中，在个人信息之后立即检测到 ETC（歧义） 单词 |
| **v4:未经用户同意收集使用个人信息**             | 收集个人信息或打开可收集个人信息的权限不需要征得用户同意     | 缺少CR6                                                      |
|                                                 | 实际收集的个人信息或打开的可收集个人信息权限超出用户授权范围 | 实际使用的个人信息大于声明的范围                             |
|                                                 | 利用用户个人信息和算法定向推送信息，未提供非定向推送信息的选项 | 存在CR12，但缺少CR9                                          |
| **v5:未经同意向他人提供个人信息**               | 没有提供有关个人信息共享的足够信息                           | 存在CR18，但不存在CR19-CR22                                  |
|                                                 | 未提供有关个人信息跨境传输的足够信息                         | 存在CR23，但不存在CR24-CR26                                  |
| **v6:未按法律规定提供删除或更正个人信息功能**   | 未提供有效的更正、删除个人信息及注销用户账号功能             | 缺少CR10                                                     |



## 研究点



## 检测项目

- [x] 是否有隐私政策弹窗
- [ ] 未同意隐私政策和同意隐私政策后的软件行为是否合规
- [ ] 是否收集与其提供服务无关的个人信息
- [ ] 是否未经用户同意将个人信息提供给第三方
- [ ] APP安装和运行时,向用户索取与当前服务无关的权限,用户拒绝授权后应用退出或关闭

## 静态检测

### 检测项目

- [ ] 识别应用实际调用的危险权限
- [ ] 识别应用程序的顽固权限申请行为

## 动态检测

### 检测项目

- [ ] 是否有隐私政策弹窗
- [ ] 未同意隐私政策时是否有获取用户隐私的行为
- [ ] 同意隐私政策后是否按照政策使用隐私信息

## 合规性分析



## 参考

[TongchengOpenSource/AppScan: 安全隐私卫士（AppScan）一款免费的企业级自动化App隐私合规检测工具。 (github.com)](https://github.com/TongchengOpenSource/AppScan)

[zhengjim/camille: 基于Frida的Android App隐私合规检测辅助工具 (github.com)](https://github.com/zhengjim/camille)

[XFY9326/AndroidInfo: Get latest Android versions, permissions, and API-Permission mappings (github.com)](https://github.com/XFY9326/AndroidInfo)

[H2SO4T/ARES: Black-box tool that uses Deep Reinforcement Learning to test and explore Android applications (github.com)](https://github.com/H2SO4T/ARES)

[das-lab/VioDroid-Finder: VioDroid-Finder: Automated Evaluation of Compliance and Consistency for Android Apps (github.com)](https://github.com/das-lab/VioDroid-Finder)